// $.getScript('https://cdn.jsdelivr.net/npm/vue', function(){
    $(function(){
        'use strict';
    
        var VERSION = 5;
        var LOCALSTORAGE_KEY = 'tool-submarine';
        var AUTHOR = '葵千花@萌芽池';
        var DATA_SOURCES = [
            { title: '【潜水艦-灰海】5.1～5.25 ドロップ一覧', author: 'Eclair Falcie@Hades', url: 'https://jp.finalfantasyxiv.com/lodestone/character/2199398/blog/4201474/', desc: '灰海目的地数据和掉落情报'},
            { title: '【潜水艦-翠浪海】5.3～5.4-5.5ドロップ一覧', author: 'Eclair Falcie@Hades', url: 'https://jp.finalfantasyxiv.com/lodestone/character/2199398/blog/4506446/', desc: '翠浪海目的地数据和掉落情报'},
            { title: 'サブマリンボイジャーのツールがしれっと増えたよ', author: 'Omochi Kinako@Chocobo', url: 'https://jp.finalfantasyxiv.com/lodestone/character/17471563/blog/4368206/', desc: '灰海航行数据'},
            { title: '潜水艦のツールが、ツールが…', author: 'Omochi Kinako@Chocobo', url: 'https://jp.finalfantasyxiv.com/lodestone/character/17471563/blog/4539408/', desc: '翠浪海航行数据'},
            // { title: '', author: '', url: '', desc: ''},
        ];
        var MAX_FILTER_COUNT = 300;
        
        var MAPS = {
            1: '沉溺海',
            2: '灰海',
            3: '翠浪海',
        };
    
        var WAYPOINTS_BASE = {
            2: {
                "x": 483,
                "y": 927,
            },
            3: {
                "x": 64,
                "y": 591,
            }
        }
    
        var WAYPOINTS = {
            2: [{
                "id": "A",
                "name": "佐佐纳恩岛南端",
                "x": 290,
                "y": 750,
                "d_stay": 12,
                "d_start": 9,
                "d_map": [0, 5, 6, 9, 20, 13, 11, 22, 19, 21, 17, 26, 19, 23, 18, 21, 24, 30, 22, 27],
                "t_stay": 33600,
                "t_start": 11184,
                "t_map": [0, 6640, 7193, 10381, 23265, 15360, 13618, 26130, 22676, 24847, 20191, 30255, 22602, 27029, 20694, 25059, 27931, 34202, 25496, 31844],
                "s": [135, 150],
                "r": [165, 205],
                "f": 140,
                "drop": [
                    [12926],
                    [20791],
                    [26528, 26531]
                ]
            }, {
                "id": "B",
                "name": "风行者的残骸",
                "x": 150,
                "y": 840,
                "d_stay": 12,
                "d_start": 12,
                "d_map": [5, 0, 10, 13, 23, 15, 16, 25, 23, 25, 19, 30, 25, 29, 23, 27, 27, 35, 27, 30],
                "t_stay": 33600,
                "t_start": 14300,
                "t_map": [6640, 0, 11956, 15494, 26816, 17883, 18267, 29488, 26469, 28841, 22606, 34408, 29129, 33667, 26601, 31019, 31552, 40282, 31642, 34330],
                "s": [140, 155],
                "r": [170, 205],
                "f": 140,
                "drop": [
                    [12924],
                    [12226, 12230, 23875],
                    [26528, 26529]
                ]
            }, {
                "id": "C",
                "name": "佐佐纳恩岛北端",
                "x": 280,
                "y": 570,
                "d_stay": 13,
                "d_start": 14,
                "d_map": [6, 10, 0, 9, 21, 9, 8, 19, 19, 19, 12, 22, 18, 21, 18, 16, 26, 26, 18, 23],
                "t_stay": 37800,
                "t_start": 16864,
                "t_map": [7193, 11956, 0, 10601, 24547, 10320, 9185, 22258, 21799, 22031, 14230, 25626, 21560, 24498, 21056, 19261, 30402, 29860, 21159, 26689],
                "s": [140, 160],
                "r": [175, 205],
                "f": 145,
                "drop": [
                    [12923],
                    [26531],
                    [12921, 12920]
                ]
            }, {
                "id": "D",
                "name": "灰海1",
                "x": 430,
                "y": 660,
                "d_stay": 13,
                "d_start": 14,
                "d_map": [9, 13, 9, 0, 12, 11, 6, 15, 11, 13, 15, 19, 15, 19, 11, 18, 17, 22, 15, 22],
                "t_stay": 37800,
                "t_start": 16163,
                "t_map": [10381, 15494, 10601, 0, 14033, 13287, 7859, 18153, 12699, 15375, 18135, 21915, 18030, 21897, 13167, 21110, 19957, 26035, 17982, 26135],
                "s": [145, 165],
                "r": [180, 220],
                "f": 145,
                "drop": [
                    [],
                    [26528, 26529],
                    []
                ]
            }, {
                "id": "E",
                "name": "火葬炉海沟南端",
                "x": 590,
                "y": 750,
                "d_stay": 14,
                "d_start": 22,
                "d_map": [20, 23, 21, 12, 0, 20, 16, 17, 6, 12, 24, 19, 20, 23, 12, 26, 7, 23, 19, 25],
                "t_stay": 42000,
                "t_start": 25322,
                "t_map": [23265, 26816, 24547, 14033, 0, 23746, 18736, 19502, 7674, 14151, 27818, 22746, 23364, 26792, 14219, 29806, 8692, 27002, 22369, 29595],
                "s": [145, 160],
                "r": [185, 220],
                "f": 150,
                "drop": [
                    [12224],
                    [23222],
                    [22441, 26802]
                ]
            }, {
                "id": "F",
                "name": "灰海2",
                "x": 180,
                "y": 440,
                "d_stay": 14,
                "d_start": 22,
                "d_map": [13, 15, 9, 11, 20, 0, 6, 12, 16, 14, 4, 16, 23, 25, 21, 17, 27, 24, 18, 14],
                "t_stay": 42000,
                "t_start": 25826,
                "t_map": [15360, 17883, 10320, 13287, 23746, 0, 6968, 14258, 18371, 16393, 5426, 18509, 27111, 28708, 24750, 20471, 31558, 28328, 20886, 16934],
                "s": [145, 165],
                "r": [180, 220],
                "f": 145,
                "drop": [
                    [12221],
                    [26528],
                    [24902]
                ]
            }, {
                "id": "G",
                "name": "灰海3",
                "x": 350,
                "y": 480,
                "d_stay": 15,
                "d_start": 19,
                "d_map": [11, 16, 8, 6, 16, 6, 0, 11, 12, 11, 9, 14, 18, 19, 15, 14, 22, 20, 13, 17],
                "t_stay": 46200,
                "t_start": 22125,
                "t_map": [13618, 18267, 9185, 7859, 18736, 6968, 0, 13388, 13965, 12972, 10780, 16762, 20570, 22457, 17866, 16738, 25948, 23308, 15293, 19494],
                "s": [150, 165],
                "r": [180, 220],
                "f": 140,
                "drop": [
                    [12220, 12223, 12927],
                    [10099, 24490],
                    [12922, 24902]
                ]
            }, {
                "id": "H",
                "name": "修道士墓碑",
                "x": 340,
                "y": 330,
                "d_stay": 15,
                "d_start": 30,
                "d_map": [22, 25, 19, 15, 17, 12, 11, 0, 10, 5, 12, 5, 25, 25, 21, 20, 24, 19, 15, 8],
                "t_stay": 46200,
                "t_start": 34250,
                "t_map": [26130, 29488, 22258, 18153, 19502, 14258, 13388, 0, 11842, 5985, 14408, 6544, 29014, 29206, 24443, 22842, 27794, 21952, 18180, 10225],
                "s": [160, 175],
                "r": [190, 225],
                "f": 150,
                "drop": [
                    [],
                    [22507],
                    [24908, 24503]
                ]
            }, {
                "id": "I",
                "name": "火葬炉海沟中部",
                "x": 500,
                "y": 580,
                "d_stay": 15,
                "d_start": 24,
                "d_map": [19, 23, 19, 11, 6, 16, 12, 10, 0, 5, 18, 13, 20, 22, 14, 22, 14, 20, 16, 19],
                "t_stay": 46200,
                "t_start": 27663,
                "t_map": [22676, 26469, 21799, 12699, 7674, 18371, 13965, 11842, 0, 6580, 21579, 15349, 23716, 25836, 16158, 25401, 16017, 22932, 18259, 21992],
                "s": [155, 170],
                "r": [190, 220],
                "f": 140,
                "drop": [
                    [12224],
                    [26531, 26529, 25008],
                    [26802, 24505]
                ]
            }, {
                "id": "J",
                "name": "神父的岩窟",
                "x": 460,
                "y": 420,
                "d_stay": 15,
                "d_start": 27,
                "d_map": [21, 25, 19, 13, 12, 14, 11, 5, 5, 0, 15, 7, 22, 22, 17, 19, 19, 17, 13, 14],
                "t_stay": 46200,
                "t_start": 31355,
                "t_map": [24847, 28841, 22031, 15375, 14151, 16393, 12972, 5985, 6580, 0, 18043, 8814, 25124, 25811, 19448, 22429, 22101, 19700, 15790, 16141],
                "s": [160, 175],
                "r": [190, 225],
                "f": 150,
                "drop": [
                    [12926],
                    [],
                    [27293, 27287]
                ]
            }, {
                "id": "K",
                "name": "灰海4",
                "x": 140,
                "y": 310,
                "d_stay": 15,
                "d_start": 26,
                "d_map": [17, 19, 12, 15, 24, 4, 9, 12, 18, 15, 0, 15, 26, 26, 24, 17, 31, 24, 18, 12],
                "t_stay": 46200,
                "t_start": 30604,
                "t_map": [20191, 22606, 14230, 18135, 27818, 5426, 10780, 14408, 21579, 18043, 0, 17487, 29858, 30413, 28407, 19964, 35827, 28126, 21569, 13803],
                "s": [155, 170],
                "r": [185, 230],
                "f": 160,
                "drop": [
                    [12221],
                    [26529, 20270],
                    [26802]
                ]
            }, {
                "id": "L",
                "name": "沙砾海盆",
                "x": 440,
                "y": 200,
                "d_stay": 16,
                "d_start": 33,
                "d_map": [26, 30, 22, 19, 19, 16, 14, 5, 13, 7, 15, 0, 25, 24, 22, 18, 26, 15, 13, 9],
                "t_stay": 50400,
                "t_start": 37649,
                "t_map": [30255, 34408, 25626, 21915, 22746, 18509, 16762, 6544, 15349, 8814, 17487, 0, 28686, 27496, 25360, 20761, 30183, 17203, 15699, 11113],
                "s": [160, 175],
                "r": [185, 235],
                "f": 165,
                "drop": [
                    [],
                    [26531, 10099, 12226, 12230],
                    [27287]
                ]
            }, {
                "id": "M",
                "name": "单只手套岛",
                "x": 820,
                "y": 550,
                "d_stay": 16,
                "d_start": 18,
                "d_map": [19, 25, 18, 15, 20, 23, 18, 25, 20, 22, 26, 25, null, 5, 8, 14, 21, 17, 12, 32],
                "t_stay": 50400,
                "t_start": 20566,
                "t_map": [22602, 29129, 21560, 18030, 23364, 27111, 20570, 29014, 23716, 25124, 29858, 28686, 0, 6308, 9416, 17008, 24128, 20110, 14376, 36638],
                "s": [160, 170],
                "r": [190, 240],
                "f": 175,
                "drop": [
                    [],
                    [26528],
                    [26531]
                ]
            }, {
                "id": "N",
                "name": "破洞袜子岛",
                "x": 870,
                "y": 400,
                "d_stay": 17,
                "d_start": 23,
                "d_map": [23, 29, 21, 19, 23, 25, 19, 25, 22, 22, 26, 24, 5, null, 12, 12, 24, 13, 10, 31],
                "t_stay": 54600,
                "t_start": 26391,
                "t_map": [27029, 33667, 24498, 21897, 26792, 28708, 22457, 29206, 25836, 25811, 30413, 27496, 6308, 0, 13804, 14040, 28131, 15846, 11925, 35918],
                "s": [165, 190],
                "r": [200, 245],
                "f": 170,
                "drop": [
                    [],
                    [26528],
                    [26529, 28621]
                ]
            }, {
                "id": "O",
                "name": "走私客的交易场",
                "x": 760,
                "y": 660,
                "d_stay": 17,
                "d_start": 17,
                "d_map": [18, 23, 18, 11, 12, 21, 15, 21, 14, 17, 24, 22, 8, 12, 0, 18, 13, 18, 13, 29],
                "t_stay": 54600,
                "t_start": 19466,
                "t_map": [20694, 26601, 21056, 13167, 14219, 24750, 17866, 24443, 16158, 19448, 28407, 25360, 9416, 13804, 0, 21382, 14962, 21059, 15299, 33640],
                "s": [170, 185],
                "r": [205, 250],
                "f": 175,
                "drop": [
                    [],
                    [24908, 24503],
                    [28136]
                ]
            }, {
                "id": "P",
                "name": "磨破袍子岛",
                "x": 584,
                "y": 195,
                "d_stay": 20,
                "d_start": 26,
                "d_map": [21, 27, 16, 18, 26, 17, 14, 20, 22, 19, 17, 18, 14, 12, 18, 0, 30, 13, 8, 22],
                "t_stay": 54600,
                "t_start": 29752,
                "t_map": [25059, 31019, 19261, 21110, 29806, 20471, 16738, 22842, 25401, 22429, 19964, 20761, 17008, 14040, 21382, 0, 34725, 15311, 9552, 26044],
                "s": [165, 180],
                "r": [185, 230],
                "f": 165,
                "drop": [
                    [],
                    [26528, 26529],
                    [28621, 30093, 24490]
                ]
            }, {
                "id": "Q",
                "name": "商贸神的烟管",
                "x": 761,
                "y": 885,
                "d_stay": 20,
                "d_start": 23,
                "d_map": [24, 27, 26, 17, 7, 27, 22, 24, 14, 19, 31, 26, 21, 24, 13, 30, 0, 26, 23, 33],
                "t_stay": 56000,
                "t_start": 26438,
                "t_map": [27931, 31552, 30402, 19957, 8692, 31558, 25948, 27794, 16017, 22101, 35827, 30183, 24128, 28131, 14962, 34725, 0, 30669, 26960, 37992],
                "s": [165, 180],
                "r": [185, 230],
                "f": 165,
                "drop": [
                    [],
                    [24902, 27287],
                    [29590]
                ]
            }, {
                "id": "R",
                "name": "走锚海域",
                "x": 818,
                "y": 145,
                "d_stay": 21,
                "d_start": 32,
                "d_map": [30, 35, 26, 22, 23, 24, 20, 19, 20, 17, 24, 15, 17, 13, 18, 13, 26, 0, 7, 23],
                "t_stay": 57400,
                "t_start": 37509,
                "t_map": [34202, 40282, 29860, 26035, 27002, 28328, 23308, 21952, 22932, 19700, 28126, 17203, 20110, 15846, 21059, 15311, 30669, 0, 8800, 27135],
                "s": [170, 185],
                "r": [190, 240],
                "f": 165,
                "drop": [
                    [],
                    [22441],
                    [26802, 28980, 27293]
                ]
            }, {
                "id": "S",
                "name": "贪婪胃",
                "x": 680,
                "y": 285,
                "d_stay": 21,
                "d_start": 25,
                "d_map": [22, 27, 18, 15, 19, 18, 13, 15, 16, 13, 18, 13, 12, 10, 13, 8, 23, 7, 0, 21],
                "t_stay": 60200,
                "t_start": 29346,
                "t_map": [25496, 31642, 21159, 17982, 22369, 20886, 15293, 18180, 18259, 15790, 21569, 15699, 14376, 11925, 15299, 9552, 26960, 8800, 0, 24370],
                "s": [175, 190],
                "r": [200, 250],
                "f": 175,
                "drop": [
                    [],
                    [24503, 24908],
                    [30034, 21921]
                ]
            }, {
                "id": "T",
                "name": "蓝洞",
                "x": 165, // 原值:168
                "y": 138, // 原值:140
                "d_stay": 22,
                "d_start": 36,
                "d_map": [27, 30, 23, 22, 25, 14, 17, 8, 19, 14, 12, 9, 32, 31, 29, 22, 33, 23, 21],
                "t_stay": 61600,
                "t_start": 41438,
                "t_map": [31844, 34330, 26689, 26135, 29595, 16934, 19494, 10225, 21992, 16141, 13803, 11113, 36638, 35918, 33640, 26044, 37992, 27135, 24370, 0],
                "s": [180, 190],
                "r": [200, 250],
                "f": 175,
                "drop": [
                    [12924, 12926],
                    [12922, 26528, 12230],
                    [22442, 24505, 28136]
                ]
            }],
            3: [{
                "id": "A",
                "name": "祭坛岛",
                "x": 199,
                "y": 455,
                "d_stay": 22,
                "d_start": 7,
                "d_map": [0, 32, 12, 32, 26, 33, 23, 23],
                "t_stay": 61600,
                "t_start": 8624,
                "t_map": [0, 37295, 13902, 37495, 30112, 38636, 26493, 27095],
                "s": [175, 190],
                "r": [200, 250],
                "f": 175,
                "drop": [
                    [],
                    [12923,26529,20791],
                    [24902]
                ]
            },{
                "id": "B",
                "name": "章鱼的陶罐",
                "x": 246,
                "y": 703,
                "d_stay": 22,
                "d_start": 35,
                "d_map": [32, 0, 25, 18, 25, 21, 28, 33],
                "t_stay": 61600,
                "t_start": 40800,
                "t_map": [37295, 0, 29092, 20770, 28744, 24172, 32136, 38643],
                "s": [180, 190],
                "r": [200, 250],
                "f": 175,
                "drop": [
                    [],
                    [29590,30034,12230],
                    [22442]
                ]
            },{
                "id": "C",
                "name": "翠浪海1",
                "x": 261,
                "y": 289,
                "d_stay": 22,
                "d_start": 18,
                "d_map": [12, 25, 0, 21, 14, 22, 15, 16],
                "t_stay": 61600,
                "t_start": 21486,
                "t_map": [61599, 29092, 0, 25012, 16708, 25192, 17595, 18612],
                "s": [180, 190],
                "r": [200, 250],
                "f": 175,
                "drop": [
                    [],
                    [12924,12921,27293],
                    [21921]
                ]
            },{
                "id": "D",
                "name": "恶魔章鱼的狩猎场",
                "x": 101,
                "y": 203,
                "d_stay": 23,
                "d_start": 37,
                "d_map": [32, 18, 21, 0, 17, 5, 27, 29],
                "t_stay": 63000,
                "t_start": 42822,
                "t_map": [37495, 20770, 25012, 0, 19632, 6154, 30861, 33543],
                "s": [180, 195],
                "r": [205, 260],
                "f": 180,
                "drop": [
                    [12226,12228],
                    [26531,12922,12925],
                    [30093]
                ]
            },{
                "id": "E",
                "name": "吸盘礁",
                "x": 474,
                "y": 89,
                "d_stay": 23,
                "d_start": 33,
                "d_map": [26, 25, 14, 17, 0, 13, 11, 12],
                "t_stay": 63000,
                "t_start": 38064,
                "t_map": [30112, 28744, 16708, 19632, 0, 15843, 13419, 14439],
                "s": [180, 195],
                "r": [210, 260],
                "f": 185,
                "drop": [
                    [],
                    [12926,12920,28136],
                    [28621]
                ]
            },{
                "id": "F",
                "name": "恶魔章鱼的睡床",
                "x": 214,
                "y": 98,
                "d_stay": 24,
                "d_start": 39,
                "d_map": [33, 21, 22, 5, 13, 0, 24, 26],
                "t_stay": 64400,
                "t_start": 44886,
                "t_map": [38635, 24171, 25191, 6153, 15873, 0, 28203, 30225],
                "s": [180, 195],
                "r": [210, 265],
                "f": 185,
                "drop": [
                    [12230],
                    [12927,29590,17019],
                    [31322]
                ]
            },{
                "id": "G",
                "name": "海神的钓钩",
                "x": 689,
                "y": 253,
                "d_stay": 24,
                "d_start": 30,
                "d_map": [23, 28, 15, 27, 11, 24, 0, 7],
                "t_stay": 65100,
                "t_start": 34666,
                "t_map": [26490, 32135, 17595, 30860, 13415, 28300, 0, 8125],
                "s": [180, 195],
                "r": [215, 270],
                "f": 185,
                "drop": [
                    [],
                    [26528,23222,29590],
                    [31671]
                ]
            },{
                "id": "H",
                "name": "翠浪海2",
                "x": 676,
                "y": 76,
                "d_stay": 25,
                "d_start": 31,
                "d_map": [23, 33, 16, 29, 12, 26, 7, 0],
                "t_stay": 65800,
                "t_start": 35682,
                "t_map": [27095, 38640, 18610, 33540, 14435, 30225, 8125, 0],
                "s": [180, 195],
                "r": [220, 270],
                "f": 185,
                "drop": [
                    [],
                    [29590,24503,12929],
                    [30386]
                ]
            }]
        };
    
        var ITEMS = [
            { id: 31322, n: "紫漆油纸伞",  t: 3, v: 1, m: [3] },
            { id: 30386, n: "装有结晶的背包",  t: 3, v: 1, m: [3] },
            { id: 31671, n: "管弦乐琴乐谱：宿命",  t: 3, v: 1, m: [3] },
            
            { id: 30093, n: "银山雀儿",  t: 3, v: 1, m: [2, 3] },
            { id: 28621, n: "狐獴",  t: 3, v: 1, m: [2, 3] },
            { id: 26802, n: "鮣鱼级潜水艇",  t: 3, v: 1, m: [2] },
            { id: 24902, n: "南方度假獭獭",  t: 3, v: 1, m: [2, 3] },
            { id: 21921, n: "舞海月",  t: 3, v: 1, m: [2, 3] },
            { id: 26529, n: "柳杉原木",  t: 1, v: 1, m: [2, 3] },
            { id: 26531, n: "纯钛矿",  t: 1, v: 1, m: [2, 3] },
            { id: 25008, n: "铁纹矿石",  t: 1, v: 1, m: [2] },
            { id: 24503, n: "海底的财宝",  t: 3, v: 1, m: [2, 3] },
            { id: 27293, n: "古董瓶",  t: 3, v: 1, m: [2, 3] },
            { id: 28136, n: "黄金水瓶",  t: 3, v: 1, m: [2, 3] },
            { id: 17019, n: "仿制财宝",  t: 3, v: 0, m: [3] },
    
            { id: 23875, n: "天然水晶",  t: 3, v: 1, m: [2] },
            { id: 24490, n: "天然绿水晶",  t: 3, v: 1, m: [2] },
            { id: 24505, n: "天然青水晶",  t: 3, v: 1, m: [2] },
            { id: 27287, n: "天然赤水晶",  t: 3, v: 1, m: [2] },
            { id: 28980, n: "天然黄水晶",  t: 3, v: 1, m: [2] },
            { id: 30034, n: "烧结磨刀石",  t: 3, v: 1, m: [2, 3] },
            { id: 22441, n: "红莲珊瑚",  t: 3, v: 0, m: [2] },
            { id: 22442, n: "石像的碎片",  t: 3, v: 0, m: [2, 3] },
            { id: 23222, n: "海产油脂",  t: 3, v: 0, m: [2, 3] },
            { id: 24908, n: "打捞上来的古钱",  t: 3, v: 0, m: [2] },
    
            { id: 12922, n: "炼金树脂",  t: 2, v: 0, m: [2, 3] },
            { id: 12923, n: "竹片",  t: 2, v: 0, m: [2, 3] },
            { id: 12924, n: "轻木废材",  t: 2, v: 0, m: [2, 3] },
            { id: 12925, n: "轻木木材",  t: 2, v: 0, m: [3] },
            { id: 26528, n: "黄檀木材",  t: 2, v: 0, m: [2, 3] },
            { id: 12926, n: "炼金纤维",  t: 2, v: 0, m: [2, 3] },
            { id: 12927, n: "魔科学纤维",  t: 2, v: 0, m: [2, 3] },
            { id: 12920, n: "天然粘土",  t: 2, v: 0, m: [2, 3] },
            { id: 12921, n: "石粉粘土",  t: 2, v: 0, m: [2, 3] },
            { id: 29590, n: "海底黏土",  t: 2, v: 0, m: [2, 3] },
    
            { id: 12220, n: "红莫柯草",  t: 1, v: 0, m: [2] },
            { id: 12221, n: "铁刀木",  t: 1, v: 0, m: [2] },
            { id: 12223, n: "苍天石原石",  t: 1, v: 0, m: [2] },
            { id: 12224, n: "蓝铁矿",  t: 1, v: 0, m: [2] },
            { id: 10099, n: "无属性水晶",  t: 1, v: 0, m: [2] },
            { id: 12226, n: "深红晶簇",  t: 1, v: 0, m: [2, 3] },
            { id: 12228, n: "深绿晶簇",  t: 1, v: 0, m: [3] },
            { id: 12230, n: "深蓝晶簇",  t: 1, v: 0, m: [2, 3] },
            { id: 20270, n: "纳夏薄绢",  t: 1, v: 0, m: [2] },
            { id: 20791, n: "白云花",  t: 1, v: 0, m: [2, 3] },
            { id: 22507, n: "上等沉船项链",  t: 4, v: 0, m: [2] },
        ];
        
        var COMPONENTS = [
            {
                // 0重量, 1探索, 2收集, 3速度, 4距离, 5恩惠
                n: '鲨鱼',
                c: '1',
                s:[
                    [5, -10, 30, 20, 40, 20], // 船体
                    [5, -30, 20, 60, 30, 15], // 船尾
                    [5, 50, 40, 10, -20, 15], // 船首
                    [5, 20, 20, 20, 20, 20] // 舰桥
                ],
            },{
                n: '甲鲎',
                c: '2',
                s:[
                    [9, 15, 10, 0, 60, 15], // 船体
                    [9, 15, 0, 30, 40, 25], // 船尾
                    [9, 60, 20, 20, -15, 10], // 船首
                    [9, 25, 5, 25, 30, 30] // 舰桥
                ],
            },{
                n: '须鲸',
                c: '3',
                s:[
                    [12, -15, 55, 35, 15, 20], // 船体
                    [12, 15, 20, 0, 55, 15], // 船尾
                    [12, 25, 60, -15, 20, 15], // 船首
                    [12, 0, 25, 20, 45, 40] // 舰桥
                ],
            },{
                n: '腔棘鱼',
                c: '4',
                s:[
                    [14, 40, -10, 25, 40, 25], // 船体
                    [14, 10, 25, 35, 25, 25], // 船尾
                    [14, 65, 10, -10, 30, 0], // 船首
                    [14, 55, 20, 35, -15, 50] // 舰桥
                ],
            },{
                n: '希尔德',
                c: '5',
                s:[
                    [17, 10, 75, 30, -15, 5], // 船体
                    [17, 20, 60, 35, -15, 5], // 船尾
                    [17, 45, 30, -15, 40, 40], // 船首
                    [17, 55, 20, -5, 30, 60] // 舰桥
                ],
            },{
                n: '鲨鱼改',
                c: '1改',
                s:[
                    [20, -5, 40, 25, 45, 35], // 船体
                    [20, -25, 25, 70, 35, 25], //船尾尾
                    [20, 55, 50, 15, -15, 25], // 船首
                    [20, 25, 25, 30, 25, 35] // 舰桥
                ],
            },{
                n: '甲鲎改',
                c: '2改',
                s:[
                    [20, 20, 15, 5, 65, 25], // 船体
                    [20, 20, 5, 35, 45, 35], // 船尾
                    [20, 65, 25, 25, -10, 20], // 船首
                    [20, 30, 10, 30, 35, 40] // 舰桥
                ],
            },{
                n: '须鲸改',
                c: '3改',
                s:[
                    [20, -10, 55, 40, 20, 30], // 船体
                    [20, 20, 20, 5, 60, 20], // 船尾
                    [20, 25, 65, -10, 25, 25], // 船首
                    [20, 0, 30, 25, 50, 45] // 舰桥
                ],
            },{
                n: '腔棘鱼改',
                c: '4改',
                s:[
                    [20, 40, -5, 30, 40, 30], // 船体
                    [20, 10, 25, 40, 30, 30], // 船尾
                    [20, 70, 15, -10, 30, 5], // 船首
                    [20, 60, 20, 35, -10, 55] // 舰桥
                ],
            },{
                n: '希尔德改',
                c: '5改',
                s:[
                    [20, 10, 80, 30, -15, 10], // 船体
                    [20, 20, 60, 35, -10, 10], // 船尾
                    [20, 45, 30, -10, 40, 40], // 船首
                    [20, 60, 20, -5, 30, 60] // 舰桥
                ],
            }
        ];
    
        var MAX_RANK = 80;  // 潜水艇最高等级
        var MAX_RANK_BONUS = [0, 40, 50, 25, 35, 30];  // 最高等级时的奖励属性
    
        // 物品异步链接
        Vue.component('item-async-link', {
            props: ['name'],
            template: '<span class="item-link size-20 async-link" data-name="0" data-type="item" style="display: inline-block;"><a v-bind:href="\'/wiki/物品:\'+name" target="_blank"><span class="item-icon size-20" style="display:inline-block;"><span class="item-icon--img"><img alt="060051.png" src="https://huiji-public.huijistatic.com/ff14/uploads/d/d4/060051.png" width="20" height="20"/></span></span><span class="item-baseinfo item-name">{{name}}</span></a></span>'
        });
    
        window.submarine = new Vue({
            el: '#submarine',
            data: {

               
            },
            computed: {
                // 所有船配置的数据
                
                // 编辑中的组合数据
                editor_temp_set: function(){ return this.calcStatus(this.editor_set) },
                // 当前配置下有效的项目

            },
            methods: {
                // 事件函数
                
                setComponent: function(slot, rank){
                    if (this.editor_set[slot] == rank){
                        this.editor_set.splice(slot, 1, -1);
                    }else{
                        this.editor_set.splice(slot, 1, rank);
                    }
                },
   
                layerFindSet: function(){
                    this.generateAllSets();
                    this.set_filter = [0, 0, 0, 0, 0, 0];
                    this.filter_sort = [-1, -1];
                    this.layer = 2;
                },

                btnSaveSet: function(){
                    if (this.editor_temp_set.v){
                        this.addSet(this.editor_temp_set, this.editor_index);
                        this.btnCloseLayer();
                    }                
                },

                btnDeleteSet: function(){
                    this.sets.splice(this.editor_index, 1);
                    this.btnCloseLayer();
                },
  
                


                // 内部调用函数
                drop_list_filter: function(drop_category, map){
                     return ITEMS.filter(function(item){ return item.v >= drop_category && item.m.includes(map); });
                },


    
                
         

            },
    
        });
    });
    
    // });